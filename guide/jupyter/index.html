<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<title>Jupyter Lab/Notebook | SCINet | USDA Scientific Computing Initiative</title>



<meta name="description" content="Computing with the Jupyter software stack">



<link rel="shortcut icon" type="image/ico"
  href="/assets/uswds/img/favicons/favicon.ico">

<link rel="icon" type="image/png"
  href="/assets/uswds/img/favicons/favicon.png">

<link rel="icon" type="image/png"
  sizes="192x192"
  href="/assets/uswds/img/favicons/favicon-192.png">

<link rel="apple-touch-icon-precomposed" type=""
  href="/assets/uswds/img/favicons/favicon-57.png">

<link rel="apple-touch-icon-precomposed" type=""
  sizes="72x72"
  href="/assets/uswds/img/favicons/favicon-72.png">

<link rel="apple-touch-icon-precomposed" type=""
  sizes="114x114"
  href="/assets/uswds/img/favicons/favicon-114.png">

<link rel="apple-touch-icon-precomposed" type=""
  sizes="144x144"
  href="/assets/uswds/img/favicons/favicon-144.png">



    



<link rel="stylesheet"
  href="/assets/css/uswds-theme.css"
  media="screen">


    
      
<!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-27627304-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() { dataLayer.push(arguments); }
  gtag('js', new Date());

  // `forceSSL` was used for analytics.js (the older Google Analytics script). It isn't documented for gtag.js, but the term occurs in the gtag.js code; figure it doesn't hurt to leave it in. -@afeld, 5/29/19
  gtag('config', 'UA-27627304-1', { 'anonymize_ip': true, 'forceSSL': true });
</script>



<!-- Digital Analytics Program roll-up, see https://analytics.usa.gov for data -->
<script id="_fed_an_ua_tag" src="https://dap.digitalgov.gov/Universal-Federated-Analytics-Min.js?agency=USDA&subagency=ARS"></script>


    
  </head>
  <body class="  site-90%">

    <a class="usa-skipnav" href="#main-content">Skip to main content</a>

    


  <section class="usa-banner" aria-label="Official government website">
  <div class="usa-accordion">
    <header class="usa-banner__header">
      <div class="usa-banner__inner">
        <div class="grid-col-auto">
          <img class="usa-banner__header-flag" src="/assets/uswds/img/us_flag_small.png" alt="U.S. flag">
        </div>
        <div class="grid-col-fill tablet:grid-col-auto">
          <p class="usa-banner__header-text">An official website of the United States government</p>
          <p class="usa-banner__header-action" aria-hidden="true">Here’s how you know</p>
        </div>
        <button class="usa-accordion__button usa-banner__button"
          aria-expanded="false" aria-controls="gov-banner">
          <span class="usa-banner__button-text">Here’s how you know</span>
        </button>
      </div>
    </header>
    <div class="usa-banner__content usa-accordion__content" id="gov-banner">
      <div class="grid-row grid-gap-lg">
        <div class="usa-banner__guidance tablet:grid-col-6">
          <img class="usa-banner__icon usa-media-block__img" src="/assets/uswds/img/icon-dot-gov.svg" role="img" alt="Dot gov">
          <div class="usa-media-block__body">
            <p>
              <strong>Official websites use .gov</strong>
              <br/>
              A <strong>.gov</strong> website belongs to an official government organization in the United States.
            </p>
          </div>
        </div>
        <div class="usa-banner__guidance tablet:grid-col-6">
          <img class="usa-banner__icon usa-media-block__img" src="/assets/uswds/img/icon-https.svg" role="img" alt="Https">
          <div class="usa-media-block__body">
            <p>
              <strong>Secure .gov websites use HTTPS</strong>
              <br/>
              A <strong>lock</strong> (
<span class="icon-lock"><svg xmlns="http://www.w3.org/2000/svg" width="52" height="64" viewBox="0 0 52 64" class="usa-banner__lock-image" role="img" aria-labelledby="banner-lock-title banner-lock-description"><title id="banner-lock-title">Lock</title><desc id="banner-lock-description">A locked padlock</desc><path fill="#000000" fill-rule="evenodd" d="M26 0c10.493 0 19 8.507 19 19v9h3a4 4 0 0 1 4 4v28a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V32a4 4 0 0 1 4-4h3v-9C7 8.507 15.507 0 26 0zm0 8c-5.979 0-10.843 4.77-10.996 10.712L15 19v9h22v-9c0-6.075-4.925-11-11-11z"/></svg></span>
) or <strong>https://</strong> means you’ve safely connected to the .gov website. Share sensitive information only on official, secure websites.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>



  <div class="usa-overlay"></div>

  <header class="usa-header usa-header--extended" role="banner">


  
    <div class="usa-navbar">
      <div class="usa-logo" id="header-logo">
        <a
          href="/"
          title="Home">
          
            <img
              class="usa-logo-img"
              src="/assets/img/usda-symbol-rgb-color.svg"
              alt="USDA-ARS">
          
          <em class="usa-logo__text">
            SCINet Scientific Computing
          </em>
        </a>
      </div>
      <button class="usa-menu-btn">Menu</button>
    </div>

    <nav role="navigation" class="usa-nav">
      <div class="usa-nav__inner">
        <button class="usa-nav__close">
          <img src="/assets/uswds/img/close.svg" alt="close">
        </button>

        
        
        
        <ul class="usa-nav__primary usa-accordion">
          
          <li class="usa-nav__primary-item">
            
              <a class=" usa-nav__link  " href="/signup/">
                <span>Sign up for an account</span>
              </a>
            
          </li>
          
          <li class="usa-nav__primary-item">
            
              
              
              
            <button class="usa-accordion__button usa-nav__link" aria-expanded="false" aria-controls="nav-2">
              <span>News</span>
            </button>
            
            <ul id="nav-2" class="usa-nav__submenu">
            
            
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/downtime/">System Downtime</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/announcements/">Announcements</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/stories/">User Stories</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/newsletter/">Newsletter</a>
                </li>
                
              
            
            </ul>
            
            
            
          </li>
          
          <li class="usa-nav__primary-item">
            
              
              
              
            <button class="usa-accordion__button usa-nav__link" aria-expanded="false" aria-controls="nav-3">
              <span>User Guides</span>
            </button>
            
            <ul id="nav-3" class="usa-nav__submenu">
            
            
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/guide/quickstart">Quick Start</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/guide/ceres">Ceres HPC User manual</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="https://www.hpc.msstate.edu/computing/atlas">Atlas HPC User Guide</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/guide/ceres2atlas">Transitioning from Ceres to Atlas</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/guide/multifactor">Set up multifactor authentication</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/guide/storage">SCINet Storage Guide</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/guide/software">Software Overview</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/guide/packageinstall">Installing R/Python/Perl Packages</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/guide/conda">Installing Software with Conda</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/guide/file-transfer">Transferring files</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/guide/rclone">Rclone</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/guide/jupyter">Jupyter</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/guide/rstudio">Rstudio</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/guide/geneious">Geneious</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/guide/galaxy">Galaxy on SCINet</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/guide/singularity">Containers</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/guide/smrtlink">SMRTLink using Command Line</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/guide/AWS/documentation">AWS Resources</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/guide/vpn">SCINet VPN</a>
                </li>
                
              
            
            </ul>
            
            
            
          </li>
          
          <li class="usa-nav__primary-item">
            
              
              
              
            <button class="usa-accordion__button usa-nav__link" aria-expanded="false" aria-controls="nav-4">
              <span>Working Groups</span>
            </button>
            
            <ul id="nav-4" class="usa-nav__submenu">
            
            
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/working-groups">Overview</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/working-groups/ag100pest">Ag100Pest</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/working-groups/arthropods">Arthropod Genomics</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/working-groups/geospatial">Geospatial Research</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/working-groups/microbiome">Microbiome</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/working-groups/LTARphenology">LTAR Phenology</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/working-groups/policy">SCINet Policy Committee</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/working-groups/webdev">SCINet Website Developers</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/working-groups/workbooks">Workbook Developers</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/working-groups/pollinator">Pollinator</a>
                </li>
                
              
            
            </ul>
            
            
            
          </li>
          
          <li class="usa-nav__primary-item">
            
              
              
              
            <button class="usa-accordion__button usa-nav__link" aria-expanded="false" aria-controls="nav-5">
              <span>Training</span>
            </button>
            
            <ul id="nav-5" class="usa-nav__submenu">
            
            
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/training/">Overview</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/training/tutorials/">ARS Science Tutorials</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/training/free-online-training">Free Online Training</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/training-archive/">Training Event Archive</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/training/bioinformatics-workbook">Bioinformatics Workbook</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/training/useful-links">Useful Links</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/training/coursera">Coursera</a>
                </li>
                
              
            
            </ul>
            
            
            
          </li>
          
          <li class="usa-nav__primary-item">
            
              
              
              
            <button class="usa-accordion__button usa-nav__link" aria-expanded="false" aria-controls="nav-6">
              <span>Use Cases</span>
            </button>
            
            <ul id="nav-6" class="usa-nav__submenu">
            
            
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/user/genomics/">Genomics</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/user/plant-breeding/">Plant breeding</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/user/geospatial/">Geospatial</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/user/hydrology/">Hydrology</a>
                </li>
                
              
            
            </ul>
            
            
            
          </li>
          
          <li class="usa-nav__primary-item">
            
              
              
              
            <button class="usa-accordion__button usa-nav__link" aria-expanded="false" aria-controls="nav-7">
              <span>Support</span>
            </button>
            
            <ul id="nav-7" class="usa-nav__submenu">
            
            
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/support/vrsc/">Virtual Research Support Core (VSRC)</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/support/faq/">FAQ's</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="https://forum.scinet.usda.gov">USDA-ARS SCINet Forum</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/support/request-storage">Request Project Storage</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/support/request-software">Request Software</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/support/request-AWS">Request AWS</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/support/ceres-job-script">Ceres Job Script Generator</a>
                </li>
                
              
            
            </ul>
            
            
            
          </li>
          
          <li class="usa-nav__primary-item">
            
              
              
              
            <button class="usa-accordion__button usa-nav__link" aria-expanded="false" aria-controls="nav-8">
              <span>About</span>
            </button>
            
            <ul id="nav-8" class="usa-nav__submenu">
            
            
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/about/compute">Computer Systems</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/about/organization">Organization</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/about/contact">Contact</a>
                </li>
                
              
            
            </ul>
            
            
            
          </li>
          
          <li class="usa-nav__primary-item">
            
              
              
              
            <button class="usa-accordion__button usa-nav__link" aria-expanded="false" aria-controls="nav-9">
              <span>Opportunities</span>
            </button>
            
            <ul id="nav-9" class="usa-nav__submenu">
            
            
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/opportunities/SAC">SAC Membership</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/opportunities/request-workshop">Request a Workshop</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/opportunities/postdocs">Fellowships (PhD & MS)</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/opportunities/events">Upcoming Events</a>
                </li>
                
              
                
                <li class="usa-nav__submenu-item">
                  <a href="/opportunities/ai-innovation">AI Innovation fund</a>
                </li>
                
              
            
            </ul>
            
            
            
          </li>
          
        </ul>
        

        

        
          
          <div class="usa-nav__secondary">
            <ul class="usa-unstyled-list usa-nav__secondary-links">
              
              
                <li class="usa-nav__secondary-item">
                  <a href=""
                  >
                    
                  </a>
                </li>
              
            </ul>
            
              <form
                accept-charset="UTF-8"
                action="https://search.usa.gov/search"
                id="search_form"
                method="get"
                class="usa-search usa-search--small js-search-form">
              <input
                name="utf8"
                type="hidden"
                value="&#x2713;" />
              <input
                type="hidden"
                name="affiliate"
                id="affiliate"
                value="scinet-usda" />
                <div role="search">
                  <label
                    for="query" class="usa-sr-only">Enter search terms</label>
                  <input
                    autocomplete="off"
                    class="usa-input usagov-search-autocomplete"
                    id="query"
                    name="query"
                    type="search" />
                  <button
                    class="usa-button"
                    type="submit"
                    name="commit">
                    <span class="usa-sr-only">Search</span>
                  </button>
                </div>
              </form>
            
          </div>
          


        </div>
      </div>
    </nav>
  
  </header>




    
    


    

    

    
      
      




    
    

    
      <main id="main-content" class="usa-layout-docs usa-layout-docs__main desktop:grid-col-9 usa-prose">
        <div class="usa-section">
  <div class="grid-container">
    <div class="grid-row grid-gap flex-align-start">
      
      

      <main class="usa-layout-docs usa-layout-docs__main usa-prose" id="main-content">
        
          <h1>Jupyter Lab/Notebook</h1>
        
        <h4 id="table-of-contents">Table of Contents</h4>
<ul>
  <li><a href="#introduction">Introduction</a></li>
  <li><a href="#launching-jupyterlab">Launching Jupyter</a></li>
  <li><a href="#environments-and-software">Environments and Software</a></li>
  <li><a href="#best-practices">Best Practices</a></li>
  <li><a href="#known-issues">Known Issues</a></li>
</ul>

<hr />
<h1 id="introduction">Introduction</h1>
<h2 id="background">Background</h2>
<p><a href="https://jupyter.org/index.html">Project Jupyter</a> is a open source software stack that supports interactive data science and scientific computing across a wide array of programming languages (<a href="https://github.com/jupyter/jupyter/wiki/Jupyter-kernels">&gt;130 supported kernels</a>). The primary applications within Jupyter are:</p>

<ol>
  <li>
    <p><a href="https://jupyterhub.readthedocs.io/en/stable/#">JupyterHub</a>: Jupyter’s multi-user server. This application spawns, manages, and proxies multiple instances of the single-user JupyterLab server.</p>
  </li>
  <li>
    <p><a href="https://jupyterlab.readthedocs.io/en/stable/">JupyterLab</a>: Jupyter’s next-generation notebook interface, which includes: <a href="https://jupyterlab.readthedocs.io/en/stable/user/notebook.html">Jupyter notebooks</a>, <a href="https://jupyterlab.readthedocs.io/en/stable/user/file_editor.html">text editor</a>, <a href="https://jupyterlab.readthedocs.io/en/stable/user/terminal.html">terminal</a>, <a href="https://jupyterlab.readthedocs.io/en/stable/user/files.html">file browser</a> (with upload/download capacity), <a href="https://jupyterlab.readthedocs.io/en/stable/user/file_formats.html">data viewer</a>, <a href="https://jupyterlab.readthedocs.io/en/stable/user/file_formats.html#markdown">markdown</a>, context help, and <a href="https://jupyterlab.readthedocs.io/en/stable/user/extensions.html">external extensions</a>.</p>
  </li>
</ol>

<p><img src="https://jupyterlab.readthedocs.io/en/stable/_images/jupyterlab.png" width="600" align="center" hspace="5" border="1" alt="screenshot of jupyterlab software" /></p>

<h2 id="why-jupyter">Why Jupyter</h2>
<p>Jupyter is popular among data scientists and researchers (<a href="https://www.nature.com/articles/d41586-018-07196-1">Perkel, 2018</a>) because it offers:</p>
<ul>
  <li>Interactive data exploration features</li>
  <li>A browser based user interface, making it easy to work on remote systems such as HPC and Cloud</li>
  <li>Language agnostic (supports &gt;130 kernels)</li>
  <li>Upload/Download files between remote and local systems</li>
  <li>Easy ways to convert analyses and results into shareable formats (<a href="https://nbconvert.readthedocs.io/en/latest/">nbconvert</a>) such as slides, html, pdf, latex, etc.</li>
  <li>Ease of sharing, collaborating, and archiving analyses and results</li>
  <li>A broad software stack that works with other Open Source projects, such as:
    <ul>
      <li><a href="https://mybinder.org/">My Binder</a></li>
      <li><a href="https://github.com/jupyter/repo2docker">repo2docker</a></li>
      <li>GitHub (renders notebooks)</li>
      <li>Access and authentication to arbitrary external processes (such as RStudio Server, Shiny Server, PostgreSQL, etc) via <a href="https://jupyter-server-proxy.readthedocs.io/en/latest/">jupyter-server-proxy</a>.</li>
    </ul>
  </li>
  <li>Customizability and Extensibility</li>
  <li>An open source code base</li>
</ul>

<p>For more details about Jupyter and why you may want to use it for computational research see: <a href="/guide/why_jupyter/">Why Jupyter</a></p>

<hr />
<h1 id="launching-jupyterlab">Launching JupyterLab</h1>
<p>There are multiple approaches for accessing the Jupyter stack on Ceres.</p>

<ul>
  <li>Port Forward with Putty - <a href="">Video Coming Soon</a></li>
  <li>Port Forward with Secure Shell (SSH) - <a href="">Video Coming Soon</a></li>
  <li><strong>JupyterHub (see below) - the recommended approach</strong></li>
</ul>

<p>The simplest and most succinct method to launch JupyterLab is thru the JupyterHub interface. To access, you will need functioning SCINet credentials. To setup a SCINet account, see the <a href="https://usda-ars-gbru.github.io/scinet-site/guide/quickstart">quickstart guide</a>. Below are the instructions for JupyterHub.</p>

<ol>
  <li><strong>Go To:</strong> <a href="https://jupyterhub.scinet.usda.gov/">https://jupyterhub.scinet.usda.gov/</a></li>
  <li><strong>Log into JupyterHub</strong> (SCINet credentials)
    <ul>
      <li>Username: SCINet username</li>
      <li>Verification Code: 6 digit time-sensitive code</li>
      <li>Password: SCINet password</li>
    </ul>
  </li>
  <li>
    <p><strong>Spawning a JupyterLab Instance</strong></p>

    <p>The Spawning page includes a comprehensive set of options for customizing JupyterLab and the compute environment. There are two ways to spawn JupyterLab, with the standard environment (default) or with a user defined container (optional).</p>

    <p><img src="../../assets/img/JHubspawn.png" alt="Image of Jupyter Lab at start up" width="300" align="center" hspace="20" border="1" /></p>

    <p><strong>Standard Options</strong></p>
    <ul>
      <li><u><i> Node Type</i></u> (Required): Which partition (<a href="https://usda-ars-gbru.github.io/scinet-site/guide/ceres/#partitions-or-queues">Ceres partitions</a>) to spawn JupyterLab.</li>
      <li><u><i> Number of Cores</i></u> (Required): How many cores to allocate (must be an even number).</li>
      <li><u><i> Job Duration</i></u> (Required): How long should the Slurm (Ceres resource allocation software) allocate to this task.</li>
      <li><u><i> Slurm Sbatch Args</i></u> (Optional): Additional options for Slurm (see <a href="https://slurm.schedmd.com/sbatch.html">sbatch options</a>). An example may be <em>–mem-per-cpu=6GB</em>.</li>
      <li><u><i> Working Directory</i></u> (Optional): The directory to launch JupyterLab. An example may be <em>/lustre/project/name_of_project</em>, defaults to your $HOME directory.</li>
    </ul>

    <p><strong>Container Options</strong></p>
    <ul>
      <li><u><i>Full Path to the Container</i></u>  (Optional): If you wish to launch JupyterLab with a container, specify the Ceres path or Hub URL to the container.</li>
      <li><u><i>Container Exec Args</i></u>  (Optional): [Additional options] for executing the container (see the <a href="https://sylabs.io/guides/3.5/user-guide/cli/singularity_exec.html">singularity exec options</a>. An example may be <em>–bind /lustre/project/name_of_project</em>.</li>
    </ul>
  </li>
  <li>
    <p><strong>Terminating JupyterLab</strong></p>

    <p>To end the JupyterLab instance go to: <em>File</em> <strong>–&gt;</strong> <em>Hub Control Panel</em> <strong>–&gt;</strong> <em>Stop Server</em></p>
  </li>
</ol>

<p>Below is a video (COMING SOON) showing the above process.</p>

<div style="text-align:center;">
<video controls="" width="500" title="JupyterHub + Ceres">
    <source src=".....mp4" type="video/mp4" />
</video>
</div>

<hr />
<h1 id="environments-and-software">Environments and Software</h1>

<h2 id="default-environment">Default Environment</h2>
<p>The default environment includes:</p>
<ul>
  <li>Python, IDL, R kernels.</li>
  <li>JupyterLab (and/or Jupyter Notebook)</li>
  <li>Rstudio (launch as an external process from within JupyterLab) <strong>Note:</strong> RStudio has been disabled in JupyterHub due to security issues. If you need to use RStudio on Ceres, see <a href="https://scinet.usda.gov/guide/rstudio/">RStudio Server Guide</a></li>
  <li>User conda environments (see below for details)</li>
  <li>Ability to load Ceres maintained software (see below)</li>
  <li>Slurm queue manager</li>
</ul>

<h2 id="bring-your-own-environment">Bring Your Own Environment</h2>
<p>If you have an environment (e.g. a conda environment) in your $HOME directory (e.g. ~/.conda/envs/my_env) or in a project directory (e.g. /project/my_project/my_env) with a <code class="language-plaintext highlighter-rouge">Jupyter Kernel installed</code> (i.e. IPyKernel, IRKernel, IJulia, idl_kernel, etc…), JupyterLab will detect this environment as a separate kernel (assuming it is not the <em>base</em> environment). For instance, a conda environment named <i>my_env</i> with the IPyKernel will appear as <i>Python [conda env:myenv]</i> in the list of optional kernels in JupyterLab. The one exception to this is the <em>base</em> environment, which already exists in the defualt Jupyter environment, and will not be loaded from your home directory.</p>

<h2 id="use-ceres-maintained-software">Use Ceres Maintained Software</h2>
<p>The default environment includes an extension (located on the left vertical section of JupyterLab) to load Ceres software into the current environment. This is the software visible with the <code class="language-plaintext highlighter-rouge">module avail</code> command.</p>

<h2 id="containerized-environment">Containerized Environment</h2>
<p>JupyterHub will spawn an instance of JupyterLab using a singularity container (see the container options above). The container selected needs to have JupyterLab installed. Users can specify a container in the <i>Container Path</i> section on the Spawner Options page. There are several ways to access containers on Ceres:</p>
<ul>
  <li>Pointing to a prebuilt container either maintained by the yourself or by the VRSC (located at <code class="language-plaintext highlighter-rouge">/references/containers/</code>).</li>
  <li>Pointing to a prebuilt container on an external hub, such as <a href="https://hub.docker.com/">Docker Hub</a> or <a href="https://cloud.sylabs.io/library">Singularity Hub</a>. <strong>When launching JupyterLab from a container located on a <i>Hub</i> for the first time, it will take 1-10 minutes</strong> to start JupyterLab because the container needs to be downloaded, built, and cached. However, on subsequent tries it should be quite fast ~10-20 seconds (the image is now cached in your $HOME directory). If the container is modified on the <i>Hub</i>, it will be re-downloaded, built, and cached.
    <ol>
      <li>An example input into <em>Container Path</em>: <code class="language-plaintext highlighter-rouge">docker://jupyter/datascience-notebook</code></li>
      <li>Project Jupyter maintains a set of containers (<a href="https://jupyter-docker-stacks.readthedocs.io/en/latest/using/selecting.html">Jupyter Stacks</a>) which include:
        <ul>
          <li><a href="https://jupyter-docker-stacks.readthedocs.io/en/latest/using/selecting.html#jupyter-scipy-notebook">Scipy-Notebook</a></li>
          <li><a href="https://jupyter-docker-stacks.readthedocs.io/en/latest/using/selecting.html#jupyter-r-notebook">R-Notebook</a></li>
          <li><a href="https://jupyter-docker-stacks.readthedocs.io/en/latest/using/selecting.html#jupyter-tensorflow-notebook">Tensorflow-Notebook</a></li>
          <li><a href="https://jupyter-docker-stacks.readthedocs.io/en/latest/using/selecting.html#jupyter-datascience-notebook">DataScience-Notebook</a></li>
          <li><a href="https://jupyter-docker-stacks.readthedocs.io/en/latest/using/selecting.html#jupyter-pyspark-notebook">PySpark-Notebook</a></li>
          <li><a href="https://jupyter-docker-stacks.readthedocs.io/en/latest/using/selecting.html#jupyter-all-spark-notebook">All-Spark-Notebook</a></li>
        </ul>
      </li>
    </ol>
  </li>
</ul>

<hr />
<h1 id="best-practices">Best Practices</h1>
<h2 id="resource-conservation">Resource Conservation</h2>
<ul>
  <li>For short sessions, select partitions that are have been designated for shorter duration jobs (such as brief-low/2hr limit or short/48hrs) in the “Node Type” drop down.</li>
  <li>For serial computing (non-parallel code) enter 2 or 4 for “<em>Number of Cores</em>” in the spawner options. If a computation is not parallelized, having more cores will not improve the computation power. If you need more memory, use the <em>–mem-per-cpu=XXGB</em> in the <em>Slurm Sbatch Args</em> on the spawner page.</li>
  <li>For parallel computing choose a reasonable number of cores to meet your needs.</li>
  <li>Choose a reasonable job duration.</li>
  <li>Remember to stop the jupyter server when you are done working (<code class="language-plaintext highlighter-rouge">File --&gt; Hub Control Panel --&gt; Stop Server</code>).</li>
</ul>

<h2 id="reproducible-research">Reproducible Research</h2>
<ul>
  <li><b>Version Control</b>: The gold standard are version control systems like <a href="https://github.com/">Github</a> or <a href="https://about.gitlab.com/">Gitlab</a>.</li>
  <li><b>Legible and Interperable Code</b>: Coding documents should include information about the mechanics of the code (commenting within code blocks) as well as the underlying scientific narrative (adding markdown cells surronding anlaysis and results).</li>
  <li><b>Archiving Computational Environment</b>: Containerized environments, such as <a href="https://www.docker.com/">Docker</a> and <a href="https://sylabs.io/docs/">Singularity</a>, provide the best approach for archiving computatoinal environments. Services such as Docker Hub and Singularity Hub can store images associated with specific research or publications. Another approach is to capture computational environments as text output, such as a <a href="https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html#creating-an-environment-from-an-environment-yml-file">conda requirements.txt</a> file.</li>
  <li><b>Data Providence/Archiving</b>: If utilizing a public dataset, the source and version should be documented. If using non-public data, the data should be published to a public repository, such as <a href="https://www.nal.usda.gov/main/">NAL</a> or <a href="https://agcros-usdaars.opendata.arcgis.com/pages/general-information/">AgCross</a>.</li>
</ul>

<p>A detailed tutorial about conducting reproducible research can be found at: <a href="">Coming Soon!</a></p>

<h2 id="tutorials-and-packages-for-parallel-computing">Tutorials and Packages for Parallel Computing</h2>
<p>Developing code/scripts that utilize resources of a cluster can be challenging. Below are some software packages that may assist in parallelizing computations as well as links to some Ceres specific examples.</p>

<ol>
  <li>Python - <a href="https://dask.org/">Dask</a>, <a href="https://ipyparallel.readthedocs.io/en/latest/">Ipyparallel</a>, <a href="https://ray.readthedocs.io/en/latest/">Ray</a>, <a href="https://joblib.readthedocs.io/en/latest/">Joblib</a><br /></li>
  <li>R - <a href="http://cyberhelp.sesync.org/rslurm/">rslurm</a>, <a href="https://www.rdocumentation.org/packages/parallel/versions/3.6.2">Parallel</a>, <a href="https://cran.r-project.org/web/packages/doParallel/doParallel.pdf">doParallel</a>, <a href="https://cran.r-project.org/web/packages/snow/snow.pdf">Snow</a><br /></li>
</ol>

<h1 id="known-issues">Known Issues</h1>
<ul>
  <li>Users launching RStudio from JupyterHub for the first time may encounter timeout error. Refreshing the page should fix this.</li>
</ul>

<p><img src="../../assets/img/rstudio_timeout.png" alt="R Studio timeout image" width="300" align="center" hspace="20" border="1" /></p>

      </main>
    </div>
  </div>
</div>

      </main>
    

    

    


  
<footer class="usa-footer usa-footer--big">

  
    <div class="grid-container">
      <p>Last updated: October 07, 2021 at 08:19 PM</p>
    </div>
  

  
    <div class="grid-container usa-footer__return-to-top">
      <a href="#">Return to top</a>
    </div>
  



  
    
    
    
  <div class="usa-footer__primary-section">
    <div class="grid-container">
      <div class="grid-row grid-gap">
        <div class="">
          <nav class="usa-footer__nav" aria-label="Footer navigation">
            <div class="grid-row grid-gap-4">
              
              <div class="mobile-lg:grid-col-6 desktop:grid-col-4">
                <section class="usa-footer__primary-content usa-footer__primary-content--collapsible">
                  
                    <h4 class="usa-footer__primary-link"></h4>
                    <ul class="usa-list usa-list--unstyled">
                      
                      <li class="usa-footer__secondary-link">
                        <a href="https://usda.gov/policies-and-links">
                          Policies and Links
                        </a>
                      </li>
                      
                      <li class="usa-footer__secondary-link">
                        <a href="https://usda.gov/our-agency/about-usda/performance">
                          Our Performance
                        </a>
                      </li>
                      
                      <li class="usa-footer__secondary-link">
                        <a href="https://www.usda.gov/our-agency/careers">
                          Careers
                        </a>
                      </li>
                      
                      <li class="usa-footer__secondary-link">
                        <a href="https://www.usda.gov/oig/forms/contractor-fraud">
                          Report Fraud on USDA
                        </a>
                      </li>
                      
                      <li class="usa-footer__secondary-link">
                        <a href="https://www.usda.gov/oig/">
                          Visit OIG
                        </a>
                      </li>
                      
                    </ul>
                  
                </section>
              </div>
              
              <div class="mobile-lg:grid-col-6 desktop:grid-col-4">
                <section class="usa-footer__primary-content usa-footer__primary-content--collapsible">
                  
                    <h4 class="usa-footer__primary-link"></h4>
                    <ul class="usa-list usa-list--unstyled">
                      
                      <li class="usa-footer__secondary-link">
                        <a href="https://usda.gov/plain-writing">
                          Plain Writing
                        </a>
                      </li>
                      
                      <li class="usa-footer__secondary-link">
                        <a href="https://usda.gov/open">
                          Open
                        </a>
                      </li>
                      
                      <li class="usa-footer__secondary-link">
                        <a href="https://www.dm.usda.gov/foia/">
                          FOIA
                        </a>
                      </li>
                      
                      <li class="usa-footer__secondary-link">
                        <a href="https://usda.gov/accessibility-statement">
                          Accessibility Statement
                        </a>
                      </li>
                      
                      <li class="usa-footer__secondary-link">
                        <a href="https://usda.gov/privacy-policy">
                          Privacy Policy
                        </a>
                      </li>
                      
                    </ul>
                  
                </section>
              </div>
              
              <div class="mobile-lg:grid-col-6 desktop:grid-col-4">
                <section class="usa-footer__primary-content usa-footer__primary-content--collapsible">
                  
                    <h4 class="usa-footer__primary-link"></h4>
                    <ul class="usa-list usa-list--unstyled">
                      
                      <li class="usa-footer__secondary-link">
                        <a href="https://usda.gov/non-discrimination-statement">
                          Non-Discrimination Statement
                        </a>
                      </li>
                      
                      <li class="usa-footer__secondary-link">
                        <a href="https://www.ascr.usda.gov/civil-rights-statements">
                          Anti-Harassment Policy
                        </a>
                      </li>
                      
                      <li class="usa-footer__secondary-link">
                        <a href="https://www.ocio.usda.gov/policy-directives-records-forms/information-quality-activities">
                          Information Quality
                        </a>
                      </li>
                      
                      <li class="usa-footer__secondary-link">
                        <a href="https://www.usa.gov">
                          USA.gov
                        </a>
                      </li>
                      
                      <li class="usa-footer__secondary-link">
                        <a href="https://www.whitehouse.gov">
                          WhiteHouse.gov
                        </a>
                      </li>
                      
                    </ul>
                  
                </section>
              </div>
              
              <div class="mobile-lg:grid-col-6 desktop:grid-col-4">
                <section class="usa-footer__primary-content usa-footer__primary-content--collapsible">
                  
                    <h4 class="usa-footer__primary-link"></h4>
                    <ul class="usa-list usa-list--unstyled">
                      
                      <li class="usa-footer__secondary-link">
                        <a href="https://usda.gov/federal-web-site-inventory">
                          eGov
                        </a>
                      </li>
                      
                      <li class="usa-footer__secondary-link">
                        <a href="mailto:scinet_vrsc@usda.gov">
                          Feedback
                        </a>
                      </li>
                      
                      <li class="usa-footer__secondary-link">
                        <a href="https://usda.gov/nofear">
                          No FEAR Act Data
                        </a>
                      </li>
                      
                    </ul>
                  
                </section>
              </div>
              
            </div>
          </nav>
        </div>
        
      </div>
    </div>
  </div>
  

  
  <div class="usa-footer__secondary-section">
    <div class="grid-container">
      <div class="grid-row grid-gap">
        <div class="usa-footer__logo grid-row mobile-lg:grid-col-6 mobile-lg:grid-gap-2">
          

          
          <div class="mobile-lg:grid-col-auto">
            <h3 class="usa-footer__logo-heading">USDA Agricultural Research Service</h3>
          </div>
          
        </div>

        
        <div class="usa-footer__contact-links mobile-lg:grid-col-6">
          
          
            <div class="usa-footer__social-links grid-row grid-gap-1">
              <div class="grid-col-auto">
                
                  <a class="usa-social-link usa-social-link--twitter" href="https://twitter.com/USDA_ARS">
                    <span>Twitter</span>
                  </a>
                
              </div>
            </div>
          
          
            <h3 class="usa-footer__contact-heading">Contact us</h3>
            
            
              <address class="usa-footer__address">
                
                <div class="usa-footer__contact-info grid-row grid-gap">
                
                    <div class="grid-col-auto">
                      <a href="mailto:scinet_vrsc@usda.gov">
                        scinet_vrsc@usda.gov
                      </a>
                    </div>
                
                </div>
              </address>
          
        
      </div>
      
      </div>
    </div>
  </div>
  

</footer>





    





  
    
      <script src="/assets/uswds/js/uswds.min.js" async></script>
    

  
    
      <script src="/assets/js/vendor/anchor.min.js"></script>
    

  
    
      <script src="/assets/js/main.js"></script>
    

  
    




<script type="text/javascript">
//<![CDATA[
      var usasearch_config = { siteHandle:"scinet-usda" };

      var script = document.createElement("script");
      script.type = "text/javascript";
      script.src = "//search.usa.gov/javascripts/remote.loader.js";
      document.getElementsByTagName("head")[0].appendChild(script);

//]]>
</script>



  </body>
</html>
